# load zit
export ZIT_MODULES_PATH="${HOME}/.zit.d"
if [[ ! -d "${ZIT_MODULES_PATH}/zit" ]]; then
  git clone "https://github.com/m45t3r/zit" "${ZIT_MODULES_PATH}/zit"
fi
source "${ZIT_MODULES_PATH}/zit/zit.zsh"

# let zit manage zit
zit-lo "zit" "zit.zsh"

# zim
zit-in "https://github.com/Eriner/zim" "zim"

## configuration
zmodules=(directory \
          environment \
          git \
          history \
          input \
          utility \
          ssh \
          syntax-highlighting \
          history-substring-search \
          autosuggestions \
          prompt \
          completion)
zprompt_theme='pure'
ztermtitle='%n@%m:%~'
zdouble_dot_expand='true'
zhighlighters=(main brackets cursor)
zssh_ids=(/dev/null)
fpath=(
  ${${zmodules}:+${ZIT_MODULES_PATH}/zim/modules/${^zmodules}/functions(/FN)}
  ${fpath}
)

## load zim modules
for zmodule in ${zmodules}; do
  zit-lo "zim" "modules/${zmodule}/init.zsh"
done

# misc
zit-il "https://github.com/supercrabtree/k" "k" "k.sh"
zit-il "https://github.com/Tarrasch/zsh-autoenv" \
  "zsh-autoenv" "autoenv.zsh"

# script to compile ZSH files
# should be called last
zit-lo "zit" "extras/compile-zsh-files.zsh"

# vim: ft=zsh
